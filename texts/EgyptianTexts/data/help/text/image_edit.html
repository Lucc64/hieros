<html>

<h1>Manual of Text/Image Editor</h1>

Hieroglyphs from a text are connected to rectangles in
one or more images, with the help of this editor. 
It is assumed that an encoding of
a hieroglyphic text already exists,
although one can make changes to the list of
hieroglyphs within this editor.
<p>
The hieroglyphs are given in the top panel. One can 
(left) click on these hieroglyphs to focus on them.
A right click allows the choice of hieroglyph to be changed.
Hieroglyphs that have not yet been linked to a rectangle
in an image have a white background. The background is
light gray if there is one link, and dark gray if there are
two or more links. Normally only one link would exist,
but having more than one link may be useful if several
images of the same text overlap.
A glyph cannot be linked to more than one
rectangle in one and the same image.
<p>
Each image is in one tab in the bottom panel. The first tab
is an index of all the images.
<p>
An image can be manipulated in one of four modes:
<ul> 
<li>In the <b>move</b> mode one can drag the image, which
is then free of added artifacts.</li>
<li>In the <b>rectangle</b> mode one can draw rectangles to
be linked to glyphs, simply by dragging the mouse
(with left mouse button pressed), say from
upper-left corner to lower-right corner. 
Already drawn rectangles can be
adjusted by (slowly) dragging the mouse, with the
left mouse button pressed.
A simple left click away from any rectangle 
clears the selected rectangle.</li>
<li>In the <b>polygon</b> mode one can select an area
of interest, in
which candidate rectangles are identified automatically.
One starts drawing a polygon by a number of
(left) clicks.
A right click ends drawing the polygon. A subsequent left click
away from the polygon clears it, and then a new polygon can be drawn.
Points can be added to an existing
polygon by further left clicks on an edge. Points can also be
moved by dragging, with the left mouse button pressed.
</li>
<li>In the <b>tagging</b> mode one can select an area, and tag it with a name.
The areas are defined by sequences of smooth and ragged points. Points are
fixed by (left) mouse clicks.
A right click turns a smooth point into a ragged point. If the initial point
is clicked again (and there are at least three points so far),
the area is closed, and then
a name can be entered, which would typically be
unique to the resource.
Points of existing areas can be added and dragged, as in the <b>polygon</b> mode.
A left click inside an existing area allows its name to be changed.
By entering an empty name, the area is removed.
A right click on a ragged point of an existing area removes the point;
if fewer than three points remain, the area is removed.
</li>
</ul>
Candidate rectangles obtained in the <b>polygon</b> mode
can be selected by going back to the
<b>rectangle</b> mode; a left mouse click within a rectangle
selects that rectangle. Pressing <b>okay</b> (under the mode menu) 
navigates to the next hieroglyph and 
selects the next rectangle within the polygon,
in the chosen reading order. An order can be
<b>hlr</b>, <b>hrl</b>, <b>vlr</b>, or <b>vrl</b>.
(<b>h</b> for horizontal, <b>lr</b> for left-to-right, etc.)
<p>
If one wants to draw a rectangle overlapping with any candidate
rectangles obtained from the <b>polygon</b> mode, then
unselect the <b>show</b> button, which temporarily hides the
candidate rectangles.
<p>
Navigation in an image is in one of the following ways:
<ul>
<li>In the <b>move</b> mode by dragging the mouse with the left button.</li>
<li>In the <b>rectangle</b> and <b>tagging</b>
modes by dragging the mouse with the right
button.</li>
<li>In the <b>polygon</b> mode by dragging the mouse with the right button,
provided no polygon is being drawn.</li>
<li>By dragging the viewport depicted in the diagram above the 
image.</li>
<li>By the arrow buttons.</li>
<li>By zooming in/out using the mouse wheel or by
pressing the plus/minus buttons.</li>
</ul>

<h1>Buttons in file menu</h1>

<h2>Close</h2>

Closes the editor.

<h2>Import</h2>

Allows an Egyptian resource with hieroglyphs to be imported.

<h1>Buttons in resource menu</h1>

<h2>Append image</h2>

Appends new image (to be selected in file system) behind current image.
Allowable file extensions are 
<b>jpg</b> (or <b>jpeg</b>),
<b>png</b>,
<b>bmp</b>, and
<b>gif</b>.

<h2>Cut image</h2>

Removes the current image.

<h2>Left/Right glyph</h2>

Navigates in the top panel.

<h2>New (initial) glyph</h2>

Adds a new (dummy) hieroglyph, and opens menu for choosing 
the actual hieroglyph.

<h2>Other glyph</h2>

Allows a different hieroglyph to be chosen for the current one.

<h2>Delete glyph</h2>

Allows the current hieroglyph to be removed.

<h2>Swap glyphs</h2>

Swaps current and next glyph.

<h1>Buttons in mode menu</h1>

The first few are shortcuts to change the corresponding buttons in
the settings window (see below). One can also navigate among the
rectangles obtained in the polygon mode (see above).

<h1>Settings</h1>

Lets the window with settings for the current image appear.
See further below.

<h1>Help</h1>

Opens this window.

<h1>Settings window</h1>

<h2>Appearance</h2>

Affects the view of the image: color or bilevel (purely
black and white pixels only).

<h2>Mouse</h2>

Affects the mouse mode.

<h2>Components</h2>

Whether candidate rectangles are shown (and are selectable)
in the <b>rectangle</b> mode.

<h2>Direction</h2>

Affects the order in which one can navigate among
candidate rectangles.

<h2>Bilevel</h2>

Affects how candidate rectangles are found.
A color image is first turned into a bilevel image. 
The higher the threshold, the more pixels will 
become black. In this process, the three colors can 
be given different weightings. Black pixels close together
will become part of the same component; the maximal
distance between pixels can be parameterized.
Isolated specks are typically not hieroglyphs; the minimum
number of pixels per component can be parameterized as well.

</html>
